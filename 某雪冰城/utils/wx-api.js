var e=require("../@babel/runtime/helpers/interopRequireDefault").default;Object.defineProperty(exports,"__esModule",{value:!0}),exports.showRetryToast=exports.postReportLog=exports.getMchUser=exports.getMchRelationState=exports.getLoginAuthState=exports.copyH5Link=void 0;var t=e(require("../cgi/keys-convert")),o=require("../const");exports.getLoginAuthState=function(){return new Promise((function(e,t){wx.login?wx.login({success:function(){e()},fail:function(){t()}}):t()}))};exports.getMchUser=function(e){return new Promise((function(a,n){e=t.default.decamelize(e);wx.request({data:e,header:{},url:o.API_URL.GET_MCH,method:"POST",success:function(e){var o,i;0===(null===(o=(e=t.default.camelize(e)).data)||void 0===o?void 0:o.errcode)?a((null===(i=e.data)||void 0===i?void 0:i.data)||{}):n((null==e?void 0:e.data)||{})},fail:n})}))};exports.getMchRelationState=function(e){return new Promise((function(a,n){e=t.default.decamelize(e);wx.request({data:e,header:{},url:o.API_URL.GET_RELATION_STATE,method:"POST",success:function(e){var o,i;0===(null===(o=(e=t.default.camelize(e)).data)||void 0===o?void 0:o.errcode)?a((null===(i=e.data)||void 0===i?void 0:i.data)||{}):n((null==e?void 0:e.data)||{})},fail:n})}))};exports.postReportLog=function(e){return new Promise((function(a,n){e=t.default.decamelize(e);wx.request({data:e,header:{},url:o.API_URL.POST_REPORT_LOG,method:"POST",success:function(e){var o,i;0===(null===(o=(e=t.default.camelize(e)).data)||void 0===o?void 0:o.errcode)?a((null===(i=e.data)||void 0===i?void 0:i.data)||{}):n((null==e?void 0:e.data)||{})},fail:n})}))};exports.copyH5Link=function(e){e=e.replace(/&amp;/g,"&"),wx.showModal({content:"请复制链接并在浏览器中打开",confirmText:"复制链接",success:function(t){t.confirm&&wx.setClipboardData({data:e,success:function(){wx.getClipboardData({success:function(){}})}})}})};exports.showRetryToast=function(e){wx.showToast({title:e||"系统繁忙，请重试",icon:"none",duration:2e3})};